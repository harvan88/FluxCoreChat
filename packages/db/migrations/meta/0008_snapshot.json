{
  "id": "38bae5bd-cba2-44b4-8e81-36121c6f54cb",
  "prevId": "c83f4014-e468-4008-96f2-29befd08cd43",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": [
            "email"
          ]
        }
      }
    },
    "accounts": {
      "name": "accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "account_type": {
          "name": "account_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "profile": {
          "name": "profile",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "private_context": {
          "name": "private_context",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "alias": {
          "name": "alias",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "accounts_owner_user_id_users_id_fk": {
          "name": "accounts_owner_user_id_users_id_fk",
          "tableFrom": "accounts",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "accounts_username_unique": {
          "name": "accounts_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      }
    },
    "actors": {
      "name": "actors",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "extension_id": {
          "name": "extension_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "display_name": {
          "name": "display_name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "actors_user_id_users_id_fk": {
          "name": "actors_user_id_users_id_fk",
          "tableFrom": "actors",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "actors_account_id_accounts_id_fk": {
          "name": "actors_account_id_accounts_id_fk",
          "tableFrom": "actors",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "relationships": {
      "name": "relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_a_id": {
          "name": "account_a_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_b_id": {
          "name": "account_b_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "perspective_a": {
          "name": "perspective_a",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"saved_name\":null,\"tags\":[],\"status\":\"active\"}'::jsonb"
        },
        "perspective_b": {
          "name": "perspective_b",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"saved_name\":null,\"tags\":[],\"status\":\"active\"}'::jsonb"
        },
        "context": {
          "name": "context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"entries\":[],\"total_chars\":0}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "last_interaction": {
          "name": "last_interaction",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "relationships_account_a_id_accounts_id_fk": {
          "name": "relationships_account_a_id_accounts_id_fk",
          "tableFrom": "relationships",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_a_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "relationships_account_b_id_accounts_id_fk": {
          "name": "relationships_account_b_id_accounts_id_fk",
          "tableFrom": "relationships",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_b_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "conversations": {
      "name": "conversations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "channel": {
          "name": "channel",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "last_message_at": {
          "name": "last_message_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "last_message_text": {
          "name": "last_message_text",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "unread_count_a": {
          "name": "unread_count_a",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "unread_count_b": {
          "name": "unread_count_b",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "conversations_relationship_id_relationships_id_fk": {
          "name": "conversations_relationship_id_relationships_id_fk",
          "tableFrom": "conversations",
          "tableTo": "relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "message_enrichments": {
      "name": "message_enrichments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "extension_id": {
          "name": "extension_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "message_enrichments_message_id_messages_id_fk": {
          "name": "message_enrichments_message_id_messages_id_fk",
          "tableFrom": "message_enrichments",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "messages": {
      "name": "messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sender_account_id": {
          "name": "sender_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "generated_by": {
          "name": "generated_by",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'human'"
        },
        "ai_approved_by": {
          "name": "ai_approved_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'synced'"
        },
        "from_actor_id": {
          "name": "from_actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "to_actor_id": {
          "name": "to_actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "messages_conversation_id_conversations_id_fk": {
          "name": "messages_conversation_id_conversations_id_fk",
          "tableFrom": "messages",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "messages_sender_account_id_accounts_id_fk": {
          "name": "messages_sender_account_id_accounts_id_fk",
          "tableFrom": "messages",
          "tableTo": "accounts",
          "columnsFrom": [
            "sender_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "messages_ai_approved_by_users_id_fk": {
          "name": "messages_ai_approved_by_users_id_fk",
          "tableFrom": "messages",
          "tableTo": "users",
          "columnsFrom": [
            "ai_approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "messages_from_actor_id_actors_id_fk": {
          "name": "messages_from_actor_id_actors_id_fk",
          "tableFrom": "messages",
          "tableTo": "actors",
          "columnsFrom": [
            "from_actor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "messages_to_actor_id_actors_id_fk": {
          "name": "messages_to_actor_id_actors_id_fk",
          "tableFrom": "messages",
          "tableTo": "actors",
          "columnsFrom": [
            "to_actor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "media_attachments": {
      "name": "media_attachments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "filename": {
          "name": "filename",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "duration_seconds": {
          "name": "duration_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "thumbnail_url": {
          "name": "thumbnail_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "waveform_data": {
          "name": "waveform_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_attachments_message": {
          "name": "idx_attachments_message",
          "columns": [
            "message_id"
          ],
          "isUnique": false
        },
        "idx_attachments_type": {
          "name": "idx_attachments_type",
          "columns": [
            "type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "media_attachments_message_id_messages_id_fk": {
          "name": "media_attachments_message_id_messages_id_fk",
          "tableFrom": "media_attachments",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "account_ai_entitlements": {
      "name": "account_ai_entitlements",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "allowed_providers": {
          "name": "allowed_providers",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "default_provider": {
          "name": "default_provider",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "account_ai_entitlements_account_id_accounts_id_fk": {
          "name": "account_ai_entitlements_account_id_accounts_id_fk",
          "tableFrom": "account_ai_entitlements",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credits_conversation_sessions": {
      "name": "credits_conversation_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "feature_key": {
          "name": "feature_key",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "engine": {
          "name": "engine",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "cost_credits": {
          "name": "cost_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "token_budget": {
          "name": "token_budget",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_credits_conversation_sessions_account": {
          "name": "idx_credits_conversation_sessions_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_credits_conversation_sessions_conversation": {
          "name": "idx_credits_conversation_sessions_conversation",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "idx_credits_conversation_sessions_feature": {
          "name": "idx_credits_conversation_sessions_feature",
          "columns": [
            "feature_key"
          ],
          "isUnique": false
        },
        "idx_credits_conversation_sessions_expires_at": {
          "name": "idx_credits_conversation_sessions_expires_at",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "credits_conversation_sessions_account_id_accounts_id_fk": {
          "name": "credits_conversation_sessions_account_id_accounts_id_fk",
          "tableFrom": "credits_conversation_sessions",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "credits_conversation_sessions_conversation_id_conversations_id_fk": {
          "name": "credits_conversation_sessions_conversation_id_conversations_id_fk",
          "tableFrom": "credits_conversation_sessions",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credits_ledger": {
      "name": "credits_ledger",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "delta": {
          "name": "delta",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "entry_type": {
          "name": "entry_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "feature_key": {
          "name": "feature_key",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "engine": {
          "name": "engine",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_credits_ledger_account": {
          "name": "idx_credits_ledger_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_credits_ledger_created_at": {
          "name": "idx_credits_ledger_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "credits_ledger_account_id_accounts_id_fk": {
          "name": "credits_ledger_account_id_accounts_id_fk",
          "tableFrom": "credits_ledger",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "credits_ledger_conversation_id_conversations_id_fk": {
          "name": "credits_ledger_conversation_id_conversations_id_fk",
          "tableFrom": "credits_ledger",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credits_policies": {
      "name": "credits_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "feature_key": {
          "name": "feature_key",
          "type": "varchar(60)",
          "primaryKey": false,
          "notNull": true
        },
        "engine": {
          "name": "engine",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "cost_credits": {
          "name": "cost_credits",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "token_budget": {
          "name": "token_budget",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "duration_hours": {
          "name": "duration_hours",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 24
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_credits_policies_feature": {
          "name": "idx_credits_policies_feature",
          "columns": [
            "feature_key"
          ],
          "isUnique": false
        },
        "idx_credits_policies_engine_model": {
          "name": "idx_credits_policies_engine_model",
          "columns": [
            "engine",
            "model"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "credits_wallets": {
      "name": "credits_wallets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "balance": {
          "name": "balance",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "credits_wallets_account_unique": {
          "name": "credits_wallets_account_unique",
          "columns": [
            "account_id"
          ],
          "isUnique": true
        },
        "idx_credits_wallets_account": {
          "name": "idx_credits_wallets_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "credits_wallets_account_id_accounts_id_fk": {
          "name": "credits_wallets_account_id_accounts_id_fk",
          "tableFrom": "credits_wallets",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "system_admins": {
      "name": "system_admins",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "scopes": {
          "name": "scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"credits\":true}'::jsonb"
        },
        "created_by": {
          "name": "created_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "system_admins_user_id_users_id_fk": {
          "name": "system_admins_user_id_users_id_fk",
          "tableFrom": "system_admins",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "system_admins_created_by_users_id_fk": {
          "name": "system_admins_created_by_users_id_fk",
          "tableFrom": "system_admins",
          "tableTo": "users",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "account_deletion_jobs": {
      "name": "account_deletion_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requester_user_id": {
          "name": "requester_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requester_account_id": {
          "name": "requester_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "phase": {
          "name": "phase",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'snapshot'"
        },
        "snapshot_url": {
          "name": "snapshot_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_ready_at": {
          "name": "snapshot_ready_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_downloaded_at": {
          "name": "snapshot_downloaded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "snapshot_download_count": {
          "name": "snapshot_download_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "snapshot_acknowledged_at": {
          "name": "snapshot_acknowledged_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "external_state": {
          "name": "external_state",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "failure_reason": {
          "name": "failure_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "account_deletion_jobs_requester_user_id_users_id_fk": {
          "name": "account_deletion_jobs_requester_user_id_users_id_fk",
          "tableFrom": "account_deletion_jobs",
          "tableTo": "users",
          "columnsFrom": [
            "requester_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "account_deletion_jobs_requester_account_id_accounts_id_fk": {
          "name": "account_deletion_jobs_requester_account_id_accounts_id_fk",
          "tableFrom": "account_deletion_jobs",
          "tableTo": "accounts",
          "columnsFrom": [
            "requester_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "account_deletion_logs": {
      "name": "account_deletion_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "requester_user_id": {
          "name": "requester_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requester_account_id": {
          "name": "requester_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "account_deletion_logs_requester_user_id_users_id_fk": {
          "name": "account_deletion_logs_requester_user_id_users_id_fk",
          "tableFrom": "account_deletion_logs",
          "tableTo": "users",
          "columnsFrom": [
            "requester_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "account_deletion_logs_requester_account_id_accounts_id_fk": {
          "name": "account_deletion_logs_requester_account_id_accounts_id_fk",
          "tableFrom": "account_deletion_logs",
          "tableTo": "accounts",
          "columnsFrom": [
            "requester_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "protected_accounts": {
      "name": "protected_accounts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "owner_user_id": {
          "name": "owner_user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reason": {
          "name": "reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "enforced_by": {
          "name": "enforced_by",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "protected_accounts_account_id_accounts_id_fk": {
          "name": "protected_accounts_account_id_accounts_id_fk",
          "tableFrom": "protected_accounts",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "protected_accounts_owner_user_id_users_id_fk": {
          "name": "protected_accounts_owner_user_id_users_id_fk",
          "tableFrom": "protected_accounts",
          "tableTo": "users",
          "columnsFrom": [
            "owner_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_installations": {
      "name": "extension_installations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "extension_id": {
          "name": "extension_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "granted_permissions": {
          "name": "granted_permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "granted_by": {
          "name": "granted_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "can_share_permissions": {
          "name": "can_share_permissions",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "permissions_granted_at": {
          "name": "permissions_granted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "installed_at": {
          "name": "installed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "extension_installations_account_id_accounts_id_fk": {
          "name": "extension_installations_account_id_accounts_id_fk",
          "tableFrom": "extension_installations",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_installations_granted_by_accounts_id_fk": {
          "name": "extension_installations_granted_by_accounts_id_fk",
          "tableFrom": "extension_installations",
          "tableTo": "accounts",
          "columnsFrom": [
            "granted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "extension_contexts": {
      "name": "extension_contexts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "extension_id": {
          "name": "extension_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "context_type": {
          "name": "context_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "payload": {
          "name": "payload",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "extension_contexts_account_id_accounts_id_fk": {
          "name": "extension_contexts_account_id_accounts_id_fk",
          "tableFrom": "extension_contexts",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_contexts_relationship_id_relationships_id_fk": {
          "name": "extension_contexts_relationship_id_relationships_id_fk",
          "tableFrom": "extension_contexts",
          "tableTo": "relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "extension_contexts_conversation_id_conversations_id_fk": {
          "name": "extension_contexts_conversation_id_conversations_id_fk",
          "tableFrom": "extension_contexts",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workspace_invitations": {
      "name": "workspace_invitations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'operator'"
        },
        "token": {
          "name": "token",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "invited_by": {
          "name": "invited_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "accepted_at": {
          "name": "accepted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workspace_invitations_workspace_id_workspaces_id_fk": {
          "name": "workspace_invitations_workspace_id_workspaces_id_fk",
          "tableFrom": "workspace_invitations",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_invitations_invited_by_users_id_fk": {
          "name": "workspace_invitations_invited_by_users_id_fk",
          "tableFrom": "workspace_invitations",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workspace_members": {
      "name": "workspace_members",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "permissions": {
          "name": "permissions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "invited_by": {
          "name": "invited_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "invited_at": {
          "name": "invited_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "joined_at": {
          "name": "joined_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workspace_members_workspace_id_workspaces_id_fk": {
          "name": "workspace_members_workspace_id_workspaces_id_fk",
          "tableFrom": "workspace_members",
          "tableTo": "workspaces",
          "columnsFrom": [
            "workspace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_members_user_id_users_id_fk": {
          "name": "workspace_members_user_id_users_id_fk",
          "tableFrom": "workspace_members",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "workspace_members_invited_by_users_id_fk": {
          "name": "workspace_members_invited_by_users_id_fk",
          "tableFrom": "workspace_members",
          "tableTo": "users",
          "columnsFrom": [
            "invited_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "workspaces": {
      "name": "workspaces",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "owner_account_id": {
          "name": "owner_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "workspaces_owner_account_id_accounts_id_fk": {
          "name": "workspaces_owner_account_id_accounts_id_fk",
          "tableFrom": "workspaces",
          "tableTo": "accounts",
          "columnsFrom": [
            "owner_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "automation_rules": {
      "name": "automation_rules",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "mode": {
          "name": "mode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'supervised'"
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "automation_rules_account_id_accounts_id_fk": {
          "name": "automation_rules_account_id_accounts_id_fk",
          "tableFrom": "automation_rules",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "automation_rules_relationship_id_relationships_id_fk": {
          "name": "automation_rules_relationship_id_relationships_id_fk",
          "tableFrom": "automation_rules",
          "tableTo": "relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "appointment_services": {
      "name": "appointment_services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 30
        },
        "price": {
          "name": "price",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "appointment_services_account_id_accounts_id_fk": {
          "name": "appointment_services_account_id_accounts_id_fk",
          "tableFrom": "appointment_services",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "appointment_staff": {
      "name": "appointment_staff",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "availability": {
          "name": "availability",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "services": {
          "name": "services",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "active": {
          "name": "active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "appointment_staff_account_id_accounts_id_fk": {
          "name": "appointment_staff_account_id_accounts_id_fk",
          "tableFrom": "appointment_staff",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "appointments": {
      "name": "appointments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "staff_id": {
          "name": "staff_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_account_id": {
          "name": "client_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "client_name": {
          "name": "client_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "client_email": {
          "name": "client_email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "client_phone": {
          "name": "client_phone",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "scheduled_at": {
          "name": "scheduled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "duration_minutes": {
          "name": "duration_minutes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "appointments_account_id_accounts_id_fk": {
          "name": "appointments_account_id_accounts_id_fk",
          "tableFrom": "appointments",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "appointments_service_id_appointment_services_id_fk": {
          "name": "appointments_service_id_appointment_services_id_fk",
          "tableFrom": "appointments",
          "tableTo": "appointment_services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "appointments_staff_id_appointment_staff_id_fk": {
          "name": "appointments_staff_id_appointment_staff_id_fk",
          "tableFrom": "appointments",
          "tableTo": "appointment_staff",
          "columnsFrom": [
            "staff_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "appointments_client_account_id_accounts_id_fk": {
          "name": "appointments_client_account_id_accounts_id_fk",
          "tableFrom": "appointments",
          "tableTo": "accounts",
          "columnsFrom": [
            "client_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "password_reset_tokens": {
      "name": "password_reset_tokens",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "used": {
          "name": "used",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "password_reset_tokens_user_id_users_id_fk": {
          "name": "password_reset_tokens_user_id_users_id_fk",
          "tableFrom": "password_reset_tokens",
          "tableTo": "users",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "password_reset_tokens_token_unique": {
          "name": "password_reset_tokens_token_unique",
          "nullsNotDistinct": false,
          "columns": [
            "token"
          ]
        }
      }
    },
    "website_configs": {
      "name": "website_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "config": {
          "name": "config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'::jsonb"
        },
        "pages": {
          "name": "pages",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "last_build_at": {
          "name": "last_build_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "build_hash": {
          "name": "build_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "custom_domain": {
          "name": "custom_domain",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "custom_domain_verified": {
          "name": "custom_domain_verified",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "website_configs_account_id_accounts_id_fk": {
          "name": "website_configs_account_id_accounts_id_fk",
          "tableFrom": "website_configs",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "website_configs_account_id_unique": {
          "name": "website_configs_account_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "account_id"
          ]
        }
      }
    },
    "fluxcore_assistants": {
      "name": "fluxcore_assistants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "runtime": {
          "name": "runtime",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'local'"
        },
        "model_config": {
          "name": "model_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"provider\":\"openai\",\"model\":\"gpt-4o\",\"temperature\":0.7,\"topP\":1,\"responseFormat\":\"text\"}'::jsonb"
        },
        "timing_config": {
          "name": "timing_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"responseDelaySeconds\":2,\"smartDelay\":true}'::jsonb"
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_modified_by": {
          "name": "last_modified_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_assistants_account_id_accounts_id_fk": {
          "name": "fluxcore_assistants_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_assistants",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_instructions": {
      "name": "fluxcore_instructions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "current_version_id": {
          "name": "current_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "is_managed": {
          "name": "is_managed",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "last_modified_by": {
          "name": "last_modified_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_instructions_account_id_accounts_id_fk": {
          "name": "fluxcore_instructions_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_instructions",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_instruction_versions": {
      "name": "fluxcore_instruction_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "instruction_id": {
          "name": "instruction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version_number": {
          "name": "version_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "tokens_estimated": {
          "name": "tokens_estimated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "word_count": {
          "name": "word_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "line_count": {
          "name": "line_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "change_log": {
          "name": "change_log",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_instruction_versions_instruction_id_fluxcore_instructions_id_fk": {
          "name": "fluxcore_instruction_versions_instruction_id_fluxcore_instructions_id_fk",
          "tableFrom": "fluxcore_instruction_versions",
          "tableTo": "fluxcore_instructions",
          "columnsFrom": [
            "instruction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_vector_store_files": {
      "name": "fluxcore_vector_store_files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vector_store_id": {
          "name": "vector_store_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "attributes": {
          "name": "attributes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "chunking_strategy": {
          "name": "chunking_strategy",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "usage_bytes": {
          "name": "usage_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_error": {
          "name": "last_error",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "chunk_count": {
          "name": "chunk_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_modified_by": {
          "name": "last_modified_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_vector_store_files_vector_store_id_fluxcore_vector_stores_id_fk": {
          "name": "fluxcore_vector_store_files_vector_store_id_fluxcore_vector_stores_id_fk",
          "tableFrom": "fluxcore_vector_store_files",
          "tableTo": "fluxcore_vector_stores",
          "columnsFrom": [
            "vector_store_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_vector_stores": {
      "name": "fluxcore_vector_stores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "external_id": {
          "name": "external_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "visibility": {
          "name": "visibility",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'private'"
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "backend": {
          "name": "backend",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'local'"
        },
        "source": {
          "name": "source",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'primary'"
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "file_counts": {
          "name": "file_counts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"in_progress\":0,\"completed\":0,\"failed\":0,\"cancelled\":0,\"total\":0}'::jsonb"
        },
        "expires_after": {
          "name": "expires_after",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "usage_bytes": {
          "name": "usage_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "expiration_policy": {
          "name": "expiration_policy",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'never'"
        },
        "expiration_days": {
          "name": "expiration_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "usage": {
          "name": "usage",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"bytesUsed\":0,\"hoursUsedThisMonth\":0,\"costPerGBPerDay\":0.1}'::jsonb"
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "file_count": {
          "name": "file_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "last_modified_by": {
          "name": "last_modified_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_vector_stores_account_id_accounts_id_fk": {
          "name": "fluxcore_vector_stores_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_vector_stores",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_assistant_tools": {
      "name": "fluxcore_assistant_tools",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assistant_id": {
          "name": "assistant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tool_connection_id": {
          "name": "tool_connection_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_assistant_tools_tool_connection_id_fluxcore_tool_connections_id_fk": {
          "name": "fluxcore_assistant_tools_tool_connection_id_fluxcore_tool_connections_id_fk",
          "tableFrom": "fluxcore_assistant_tools",
          "tableTo": "fluxcore_tool_connections",
          "columnsFrom": [
            "tool_connection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_tool_connections": {
      "name": "fluxcore_tool_connections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tool_definition_id": {
          "name": "tool_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'disconnected'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "auth_config": {
          "name": "auth_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"type\":\"none\"}'::jsonb"
        },
        "last_used_at": {
          "name": "last_used_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_tool_connections_account_id_accounts_id_fk": {
          "name": "fluxcore_tool_connections_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_tool_connections",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_tool_connections_tool_definition_id_fluxcore_tool_definitions_id_fk": {
          "name": "fluxcore_tool_connections_tool_definition_id_fluxcore_tool_definitions_id_fk",
          "tableFrom": "fluxcore_tool_connections",
          "tableTo": "fluxcore_tool_definitions",
          "columnsFrom": [
            "tool_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_tool_definitions": {
      "name": "fluxcore_tool_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "icon": {
          "name": "icon",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'internal'"
        },
        "visibility": {
          "name": "visibility",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'public'"
        },
        "schema": {
          "name": "schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "auth_type": {
          "name": "auth_type",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'none'"
        },
        "oauth_provider": {
          "name": "oauth_provider",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_built_in": {
          "name": "is_built_in",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fluxcore_tool_definitions_slug_unique": {
          "name": "fluxcore_tool_definitions_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      }
    },
    "fluxcore_assistant_instructions": {
      "name": "fluxcore_assistant_instructions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assistant_id": {
          "name": "assistant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "instruction_id": {
          "name": "instruction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version_id": {
          "name": "version_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "order": {
          "name": "order",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_assistant_instructions_assistant_id_fluxcore_assistants_id_fk": {
          "name": "fluxcore_assistant_instructions_assistant_id_fluxcore_assistants_id_fk",
          "tableFrom": "fluxcore_assistant_instructions",
          "tableTo": "fluxcore_assistants",
          "columnsFrom": [
            "assistant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_assistant_instructions_instruction_id_fluxcore_instructions_id_fk": {
          "name": "fluxcore_assistant_instructions_instruction_id_fluxcore_instructions_id_fk",
          "tableFrom": "fluxcore_assistant_instructions",
          "tableTo": "fluxcore_instructions",
          "columnsFrom": [
            "instruction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_assistant_vector_stores": {
      "name": "fluxcore_assistant_vector_stores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "assistant_id": {
          "name": "assistant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "vector_store_id": {
          "name": "vector_store_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "access_mode": {
          "name": "access_mode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'read'"
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_assistant_vector_stores_assistant_id_fluxcore_assistants_id_fk": {
          "name": "fluxcore_assistant_vector_stores_assistant_id_fluxcore_assistants_id_fk",
          "tableFrom": "fluxcore_assistant_vector_stores",
          "tableTo": "fluxcore_assistants",
          "columnsFrom": [
            "assistant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_assistant_vector_stores_vector_store_id_fluxcore_vector_stores_id_fk": {
          "name": "fluxcore_assistant_vector_stores_vector_store_id_fluxcore_vector_stores_id_fk",
          "tableFrom": "fluxcore_assistant_vector_stores",
          "tableTo": "fluxcore_vector_stores",
          "columnsFrom": [
            "vector_store_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_document_chunks": {
      "name": "fluxcore_document_chunks",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vector_store_id": {
          "name": "vector_store_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "file_id": {
          "name": "file_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "chunk_index": {
          "name": "chunk_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "token_count": {
          "name": "token_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "start_char": {
          "name": "start_char",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "end_char": {
          "name": "end_char",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "page_number": {
          "name": "page_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "section_title": {
          "name": "section_title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_document_chunks_file_chunk": {
          "name": "idx_document_chunks_file_chunk",
          "columns": [
            "file_id",
            "chunk_index"
          ],
          "isUnique": true
        },
        "idx_document_chunks_vector_store_drizzle": {
          "name": "idx_document_chunks_vector_store_drizzle",
          "columns": [
            "vector_store_id"
          ],
          "isUnique": false
        },
        "idx_document_chunks_file_drizzle": {
          "name": "idx_document_chunks_file_drizzle",
          "columns": [
            "file_id"
          ],
          "isUnique": false
        },
        "idx_document_chunks_account_drizzle": {
          "name": "idx_document_chunks_account_drizzle",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_document_chunks_vector_store_id_fluxcore_vector_stores_id_fk": {
          "name": "fluxcore_document_chunks_vector_store_id_fluxcore_vector_stores_id_fk",
          "tableFrom": "fluxcore_document_chunks",
          "tableTo": "fluxcore_vector_stores",
          "columnsFrom": [
            "vector_store_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_document_chunks_file_id_fluxcore_vector_store_files_id_fk": {
          "name": "fluxcore_document_chunks_file_id_fluxcore_vector_store_files_id_fk",
          "tableFrom": "fluxcore_document_chunks",
          "tableTo": "fluxcore_vector_store_files",
          "columnsFrom": [
            "file_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_document_chunks_account_id_accounts_id_fk": {
          "name": "fluxcore_document_chunks_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_document_chunks",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_asset_permissions": {
      "name": "fluxcore_asset_permissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vector_store_id": {
          "name": "vector_store_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "instruction_id": {
          "name": "instruction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_definition_id": {
          "name": "tool_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "grantee_account_id": {
          "name": "grantee_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "permission_level": {
          "name": "permission_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'read'"
        },
        "source": {
          "name": "source",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'shared'"
        },
        "granted_by_account_id": {
          "name": "granted_by_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "granted_at": {
          "name": "granted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_asset_permissions_grantee_drizzle": {
          "name": "idx_asset_permissions_grantee_drizzle",
          "columns": [
            "grantee_account_id"
          ],
          "isUnique": false
        },
        "idx_asset_permissions_source_drizzle": {
          "name": "idx_asset_permissions_source_drizzle",
          "columns": [
            "source"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_asset_permissions_vector_store_id_fluxcore_vector_stores_id_fk": {
          "name": "fluxcore_asset_permissions_vector_store_id_fluxcore_vector_stores_id_fk",
          "tableFrom": "fluxcore_asset_permissions",
          "tableTo": "fluxcore_vector_stores",
          "columnsFrom": [
            "vector_store_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_asset_permissions_instruction_id_fluxcore_instructions_id_fk": {
          "name": "fluxcore_asset_permissions_instruction_id_fluxcore_instructions_id_fk",
          "tableFrom": "fluxcore_asset_permissions",
          "tableTo": "fluxcore_instructions",
          "columnsFrom": [
            "instruction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_asset_permissions_tool_definition_id_fluxcore_tool_definitions_id_fk": {
          "name": "fluxcore_asset_permissions_tool_definition_id_fluxcore_tool_definitions_id_fk",
          "tableFrom": "fluxcore_asset_permissions",
          "tableTo": "fluxcore_tool_definitions",
          "columnsFrom": [
            "tool_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_asset_permissions_grantee_account_id_accounts_id_fk": {
          "name": "fluxcore_asset_permissions_grantee_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_asset_permissions",
          "tableTo": "accounts",
          "columnsFrom": [
            "grantee_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_asset_permissions_granted_by_account_id_accounts_id_fk": {
          "name": "fluxcore_asset_permissions_granted_by_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_asset_permissions",
          "tableTo": "accounts",
          "columnsFrom": [
            "granted_by_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_rag_configurations": {
      "name": "fluxcore_rag_configurations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vector_store_id": {
          "name": "vector_store_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "is_default": {
          "name": "is_default",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "chunking_strategy": {
          "name": "chunking_strategy",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'recursive'"
        },
        "chunk_size_tokens": {
          "name": "chunk_size_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 512
        },
        "chunk_overlap_tokens": {
          "name": "chunk_overlap_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "chunk_separators": {
          "name": "chunk_separators",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"\\n\\n\",\"\\n\",\". \",\" \"]'::jsonb"
        },
        "chunk_custom_regex": {
          "name": "chunk_custom_regex",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "min_chunk_size": {
          "name": "min_chunk_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 50
        },
        "max_chunk_size": {
          "name": "max_chunk_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2000
        },
        "embedding_provider": {
          "name": "embedding_provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'openai'"
        },
        "embedding_model": {
          "name": "embedding_model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'text-embedding-3-small'"
        },
        "embedding_dimensions": {
          "name": "embedding_dimensions",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1536
        },
        "embedding_batch_size": {
          "name": "embedding_batch_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "embedding_endpoint_url": {
          "name": "embedding_endpoint_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "embedding_api_key_ref": {
          "name": "embedding_api_key_ref",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "retrieval_top_k": {
          "name": "retrieval_top_k",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 10
        },
        "retrieval_min_score": {
          "name": "retrieval_min_score",
          "type": "numeric(4, 3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.700'"
        },
        "retrieval_max_tokens": {
          "name": "retrieval_max_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2000
        },
        "hybrid_search_enabled": {
          "name": "hybrid_search_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "hybrid_keyword_weight": {
          "name": "hybrid_keyword_weight",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0.30'"
        },
        "rerank_enabled": {
          "name": "rerank_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "rerank_provider": {
          "name": "rerank_provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "rerank_model": {
          "name": "rerank_model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "rerank_top_n": {
          "name": "rerank_top_n",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "supported_mime_types": {
          "name": "supported_mime_types",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"application/pdf\",\"text/plain\",\"text/markdown\",\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\"]'::jsonb"
        },
        "ocr_enabled": {
          "name": "ocr_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "ocr_language": {
          "name": "ocr_language",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'spa'"
        },
        "extract_metadata": {
          "name": "extract_metadata",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "metadata_fields": {
          "name": "metadata_fields",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[\"title\",\"author\",\"created_date\",\"page_count\"]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_rag_config_vs_drizzle": {
          "name": "idx_rag_config_vs_drizzle",
          "columns": [
            "vector_store_id"
          ],
          "isUnique": false
        },
        "idx_rag_config_account_drizzle": {
          "name": "idx_rag_config_account_drizzle",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_rag_configurations_vector_store_id_fluxcore_vector_stores_id_fk": {
          "name": "fluxcore_rag_configurations_vector_store_id_fluxcore_vector_stores_id_fk",
          "tableFrom": "fluxcore_rag_configurations",
          "tableTo": "fluxcore_vector_stores",
          "columnsFrom": [
            "vector_store_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_rag_configurations_account_id_accounts_id_fk": {
          "name": "fluxcore_rag_configurations_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_rag_configurations",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_marketplace_listings": {
      "name": "fluxcore_marketplace_listings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "vector_store_id": {
          "name": "vector_store_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "instruction_id": {
          "name": "instruction_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "tool_definition_id": {
          "name": "tool_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "seller_account_id": {
          "name": "seller_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "short_description": {
          "name": "short_description",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "long_description": {
          "name": "long_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "pricing_model": {
          "name": "pricing_model",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'free'"
        },
        "price_cents": {
          "name": "price_cents",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "currency": {
          "name": "currency",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false,
          "default": "'USD'"
        },
        "billing_period": {
          "name": "billing_period",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "usage_price_per_1k_tokens": {
          "name": "usage_price_per_1k_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "total_subscribers": {
          "name": "total_subscribers",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_revenue_cents": {
          "name": "total_revenue_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_queries": {
          "name": "total_queries",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "rating_average": {
          "name": "rating_average",
          "type": "numeric(3, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "rating_count": {
          "name": "rating_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "preview_enabled": {
          "name": "preview_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "preview_chunk_limit": {
          "name": "preview_chunk_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "license_type": {
          "name": "license_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'personal'"
        },
        "terms_url": {
          "name": "terms_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cover_image_url": {
          "name": "cover_image_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "screenshots": {
          "name": "screenshots",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "demo_url": {
          "name": "demo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "search_keywords": {
          "name": "search_keywords",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "featured": {
          "name": "featured",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "featured_until": {
          "name": "featured_until",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "published_at": {
          "name": "published_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_mp_listings_seller": {
          "name": "idx_mp_listings_seller",
          "columns": [
            "seller_account_id"
          ],
          "isUnique": false
        },
        "idx_mp_listings_status": {
          "name": "idx_mp_listings_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_mp_listings_category": {
          "name": "idx_mp_listings_category",
          "columns": [
            "category"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_marketplace_listings_vector_store_id_fluxcore_vector_stores_id_fk": {
          "name": "fluxcore_marketplace_listings_vector_store_id_fluxcore_vector_stores_id_fk",
          "tableFrom": "fluxcore_marketplace_listings",
          "tableTo": "fluxcore_vector_stores",
          "columnsFrom": [
            "vector_store_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_marketplace_listings_instruction_id_fluxcore_instructions_id_fk": {
          "name": "fluxcore_marketplace_listings_instruction_id_fluxcore_instructions_id_fk",
          "tableFrom": "fluxcore_marketplace_listings",
          "tableTo": "fluxcore_instructions",
          "columnsFrom": [
            "instruction_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_marketplace_listings_tool_definition_id_fluxcore_tool_definitions_id_fk": {
          "name": "fluxcore_marketplace_listings_tool_definition_id_fluxcore_tool_definitions_id_fk",
          "tableFrom": "fluxcore_marketplace_listings",
          "tableTo": "fluxcore_tool_definitions",
          "columnsFrom": [
            "tool_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_marketplace_listings_seller_account_id_accounts_id_fk": {
          "name": "fluxcore_marketplace_listings_seller_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_marketplace_listings",
          "tableTo": "accounts",
          "columnsFrom": [
            "seller_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_marketplace_reviews": {
      "name": "fluxcore_marketplace_reviews",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "listing_id": {
          "name": "listing_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "reviewer_account_id": {
          "name": "reviewer_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'published'"
        },
        "helpful_count": {
          "name": "helpful_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_mp_reviews_listing": {
          "name": "idx_mp_reviews_listing",
          "columns": [
            "listing_id"
          ],
          "isUnique": false
        },
        "idx_mp_review_unique": {
          "name": "idx_mp_review_unique",
          "columns": [
            "listing_id",
            "reviewer_account_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "fluxcore_marketplace_reviews_listing_id_fluxcore_marketplace_listings_id_fk": {
          "name": "fluxcore_marketplace_reviews_listing_id_fluxcore_marketplace_listings_id_fk",
          "tableFrom": "fluxcore_marketplace_reviews",
          "tableTo": "fluxcore_marketplace_listings",
          "columnsFrom": [
            "listing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_marketplace_reviews_reviewer_account_id_accounts_id_fk": {
          "name": "fluxcore_marketplace_reviews_reviewer_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_marketplace_reviews",
          "tableTo": "accounts",
          "columnsFrom": [
            "reviewer_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_marketplace_reviews_subscription_id_fluxcore_marketplace_subscriptions_id_fk": {
          "name": "fluxcore_marketplace_reviews_subscription_id_fluxcore_marketplace_subscriptions_id_fk",
          "tableFrom": "fluxcore_marketplace_reviews",
          "tableTo": "fluxcore_marketplace_subscriptions",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_marketplace_subscriptions": {
      "name": "fluxcore_marketplace_subscriptions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "listing_id": {
          "name": "listing_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "subscriber_account_id": {
          "name": "subscriber_account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "current_period_start": {
          "name": "current_period_start",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "current_period_end": {
          "name": "current_period_end",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used_this_period": {
          "name": "tokens_used_this_period",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "queries_this_period": {
          "name": "queries_this_period",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "tokens_used_total": {
          "name": "tokens_used_total",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "queries_total": {
          "name": "queries_total",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "external_subscription_id": {
          "name": "external_subscription_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "last_payment_at": {
          "name": "last_payment_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_payment_at": {
          "name": "next_payment_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_paid_cents": {
          "name": "total_paid_cents",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "access_mode": {
          "name": "access_mode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'read'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_mp_subscriptions_subscriber": {
          "name": "idx_mp_subscriptions_subscriber",
          "columns": [
            "subscriber_account_id"
          ],
          "isUnique": false
        },
        "idx_mp_subscriptions_listing": {
          "name": "idx_mp_subscriptions_listing",
          "columns": [
            "listing_id"
          ],
          "isUnique": false
        },
        "idx_mp_sub_unique": {
          "name": "idx_mp_sub_unique",
          "columns": [
            "listing_id",
            "subscriber_account_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "fluxcore_marketplace_subscriptions_listing_id_fluxcore_marketplace_listings_id_fk": {
          "name": "fluxcore_marketplace_subscriptions_listing_id_fluxcore_marketplace_listings_id_fk",
          "tableFrom": "fluxcore_marketplace_subscriptions",
          "tableTo": "fluxcore_marketplace_listings",
          "columnsFrom": [
            "listing_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_marketplace_subscriptions_subscriber_account_id_accounts_id_fk": {
          "name": "fluxcore_marketplace_subscriptions_subscriber_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_marketplace_subscriptions",
          "tableTo": "accounts",
          "columnsFrom": [
            "subscriber_account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_account_credits": {
      "name": "fluxcore_account_credits",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "balance_credits": {
          "name": "balance_credits",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "monthly_limit_credits": {
          "name": "monthly_limit_credits",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "daily_limit_credits": {
          "name": "daily_limit_credits",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "used_this_month": {
          "name": "used_this_month",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "used_today": {
          "name": "used_today",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "plan_type": {
          "name": "plan_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'free'"
        },
        "stripe_customer_id": {
          "name": "stripe_customer_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_subscription_id": {
          "name": "stripe_subscription_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "alert_threshold_percent": {
          "name": "alert_threshold_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 80
        },
        "last_alert_sent_at": {
          "name": "last_alert_sent_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_credits_account_unique": {
          "name": "idx_credits_account_unique",
          "columns": [
            "account_id"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "fluxcore_account_credits_account_id_accounts_id_fk": {
          "name": "fluxcore_account_credits_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_account_credits",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_credit_transactions": {
      "name": "fluxcore_credit_transactions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "transaction_type": {
          "name": "transaction_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "amount_credits": {
          "name": "amount_credits",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usage_log_id": {
          "name": "usage_log_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "subscription_id": {
          "name": "subscription_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "balance_after": {
          "name": "balance_after",
          "type": "numeric(12, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_transactions_account_drizzle": {
          "name": "idx_transactions_account_drizzle",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_transactions_type_drizzle": {
          "name": "idx_transactions_type_drizzle",
          "columns": [
            "transaction_type"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_credit_transactions_account_id_accounts_id_fk": {
          "name": "fluxcore_credit_transactions_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_credit_transactions",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_credit_transactions_usage_log_id_fluxcore_usage_logs_id_fk": {
          "name": "fluxcore_credit_transactions_usage_log_id_fluxcore_usage_logs_id_fk",
          "tableFrom": "fluxcore_credit_transactions",
          "tableTo": "fluxcore_usage_logs",
          "columnsFrom": [
            "usage_log_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_credit_transactions_subscription_id_fluxcore_marketplace_subscriptions_id_fk": {
          "name": "fluxcore_credit_transactions_subscription_id_fluxcore_marketplace_subscriptions_id_fk",
          "tableFrom": "fluxcore_credit_transactions",
          "tableTo": "fluxcore_marketplace_subscriptions",
          "columnsFrom": [
            "subscription_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_usage_logs": {
      "name": "fluxcore_usage_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "resource_type": {
          "name": "resource_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "resource_id": {
          "name": "resource_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "operation": {
          "name": "operation",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "chunks_processed": {
          "name": "chunks_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "api_calls": {
          "name": "api_calls",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "processing_time_ms": {
          "name": "processing_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "cost_credits": {
          "name": "cost_credits",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "provider": {
          "name": "provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "request_metadata": {
          "name": "request_metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "billing_period_start": {
          "name": "billing_period_start",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "billing_period_end": {
          "name": "billing_period_end",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_usage_logs_account_drizzle": {
          "name": "idx_usage_logs_account_drizzle",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_usage_logs_resource_drizzle": {
          "name": "idx_usage_logs_resource_drizzle",
          "columns": [
            "resource_type",
            "resource_id"
          ],
          "isUnique": false
        },
        "idx_usage_logs_created_drizzle": {
          "name": "idx_usage_logs_created_drizzle",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_usage_logs_account_id_accounts_id_fk": {
          "name": "fluxcore_usage_logs_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_usage_logs",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_files": {
      "name": "fluxcore_files",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "original_name": {
          "name": "original_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'application/octet-stream'"
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "text_content": {
          "name": "text_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_fluxcore_files_account": {
          "name": "idx_fluxcore_files_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_fluxcore_files_name": {
          "name": "idx_fluxcore_files_name",
          "columns": [
            "name"
          ],
          "isUnique": false
        },
        "idx_fluxcore_files_hash": {
          "name": "idx_fluxcore_files_hash",
          "columns": [
            "content_hash"
          ],
          "isUnique": false
        },
        "idx_fluxcore_files_created": {
          "name": "idx_fluxcore_files_created",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fluxcore_files_unique_hash": {
          "name": "fluxcore_files_unique_hash",
          "nullsNotDistinct": false,
          "columns": [
            "account_id",
            "content_hash"
          ]
        }
      }
    },
    "assets": {
      "name": "assets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "workspace_id": {
          "name": "workspace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "asset_scope",
          "primaryKey": false,
          "notNull": true,
          "default": "'message_attachment'"
        },
        "status": {
          "name": "status",
          "type": "asset_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "version": {
          "name": "version",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "name": {
          "name": "name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true
        },
        "original_name": {
          "name": "original_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'application/octet-stream'"
        },
        "size_bytes": {
          "name": "size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "checksum_sha256": {
          "name": "checksum_sha256",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false
        },
        "dedup_policy": {
          "name": "dedup_policy",
          "type": "dedup_policy",
          "primaryKey": false,
          "notNull": true,
          "default": "'intra_account'"
        },
        "storage_key": {
          "name": "storage_key",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": true
        },
        "storage_provider": {
          "name": "storage_provider",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'local'"
        },
        "encryption": {
          "name": "encryption",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_key_id": {
          "name": "encryption_key_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "retention_policy": {
          "name": "retention_policy",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "hard_delete_at": {
          "name": "hard_delete_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_assets_account": {
          "name": "idx_assets_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_assets_workspace": {
          "name": "idx_assets_workspace",
          "columns": [
            "workspace_id"
          ],
          "isUnique": false
        },
        "idx_assets_status": {
          "name": "idx_assets_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_assets_scope": {
          "name": "idx_assets_scope",
          "columns": [
            "scope"
          ],
          "isUnique": false
        },
        "idx_assets_checksum": {
          "name": "idx_assets_checksum",
          "columns": [
            "checksum_sha256"
          ],
          "isUnique": false
        },
        "idx_assets_created": {
          "name": "idx_assets_created",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        },
        "idx_assets_storage_key": {
          "name": "idx_assets_storage_key",
          "columns": [
            "storage_key"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "assets_unique_checksum_account": {
          "name": "assets_unique_checksum_account",
          "nullsNotDistinct": false,
          "columns": [
            "account_id",
            "checksum_sha256"
          ]
        }
      }
    },
    "asset_upload_sessions": {
      "name": "asset_upload_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "upload_session_status",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "max_size_bytes": {
          "name": "max_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 104857600
        },
        "allowed_mime_types": {
          "name": "allowed_mime_types",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "bytes_uploaded": {
          "name": "bytes_uploaded",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_bytes": {
          "name": "total_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false
        },
        "chunks_received": {
          "name": "chunks_received",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "temp_storage_key": {
          "name": "temp_storage_key",
          "type": "varchar(1000)",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false
        },
        "mime_type": {
          "name": "mime_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "committed_at": {
          "name": "committed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_upload_sessions_account": {
          "name": "idx_upload_sessions_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_upload_sessions_status": {
          "name": "idx_upload_sessions_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_upload_sessions_expires": {
          "name": "idx_upload_sessions_expires",
          "columns": [
            "expires_at"
          ],
          "isUnique": false
        },
        "idx_upload_sessions_asset": {
          "name": "idx_upload_sessions_asset",
          "columns": [
            "asset_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "asset_policies": {
      "name": "asset_policies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "allowed_contexts": {
          "name": "allowed_contexts",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "default_ttl_seconds": {
          "name": "default_ttl_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 3600
        },
        "max_ttl_seconds": {
          "name": "max_ttl_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 86400
        },
        "dedup_scope": {
          "name": "dedup_scope",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'intra_account'"
        },
        "max_file_size_bytes": {
          "name": "max_file_size_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allowed_mime_types": {
          "name": "allowed_mime_types",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "require_encryption": {
          "name": "require_encryption",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "allow_public_access": {
          "name": "allow_public_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "audit_all_access": {
          "name": "audit_all_access",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "retention_days": {
          "name": "retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_asset_policies_scope": {
          "name": "idx_asset_policies_scope",
          "columns": [
            "scope"
          ],
          "isUnique": false
        },
        "idx_asset_policies_account": {
          "name": "idx_asset_policies_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_asset_policies_active": {
          "name": "idx_asset_policies_active",
          "columns": [
            "is_active"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "asset_audit_logs": {
      "name": "asset_audit_logs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "asset_audit_action",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "actor_type": {
          "name": "actor_type",
          "type": "asset_actor_type",
          "primaryKey": false,
          "notNull": true,
          "default": "'system'"
        },
        "context": {
          "name": "context",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "success": {
          "name": "success",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'true'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_audit_logs_asset": {
          "name": "idx_audit_logs_asset",
          "columns": [
            "asset_id"
          ],
          "isUnique": false
        },
        "idx_audit_logs_session": {
          "name": "idx_audit_logs_session",
          "columns": [
            "session_id"
          ],
          "isUnique": false
        },
        "idx_audit_logs_action": {
          "name": "idx_audit_logs_action",
          "columns": [
            "action"
          ],
          "isUnique": false
        },
        "idx_audit_logs_actor": {
          "name": "idx_audit_logs_actor",
          "columns": [
            "actor_id"
          ],
          "isUnique": false
        },
        "idx_audit_logs_account": {
          "name": "idx_audit_logs_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_audit_logs_timestamp": {
          "name": "idx_audit_logs_timestamp",
          "columns": [
            "timestamp"
          ],
          "isUnique": false
        },
        "idx_audit_logs_account_timestamp": {
          "name": "idx_audit_logs_account_timestamp",
          "columns": [
            "account_id",
            "timestamp"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "message_assets": {
      "name": "message_assets",
      "schema": "",
      "columns": {
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "linked_at": {
          "name": "linked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_message_assets_message": {
          "name": "idx_message_assets_message",
          "columns": [
            "message_id"
          ],
          "isUnique": false
        },
        "idx_message_assets_asset": {
          "name": "idx_message_assets_asset",
          "columns": [
            "asset_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "message_assets_message_id_asset_id_pk": {
          "name": "message_assets_message_id_asset_id_pk",
          "columns": [
            "message_id",
            "asset_id"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "template_assets": {
      "name": "template_assets",
      "schema": "",
      "columns": {
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "slot": {
          "name": "slot",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true,
          "default": "'default'"
        },
        "linked_at": {
          "name": "linked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_template_assets_template": {
          "name": "idx_template_assets_template",
          "columns": [
            "template_id"
          ],
          "isUnique": false
        },
        "idx_template_assets_asset": {
          "name": "idx_template_assets_asset",
          "columns": [
            "asset_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "template_assets_template_id_asset_id_slot_pk": {
          "name": "template_assets_template_id_asset_id_slot_pk",
          "columns": [
            "template_id",
            "asset_id",
            "slot"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "plan_assets": {
      "name": "plan_assets",
      "schema": "",
      "columns": {
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "step_id": {
          "name": "step_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "asset_id": {
          "name": "asset_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "dependency_type": {
          "name": "dependency_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'required'"
        },
        "is_ready": {
          "name": "is_ready",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "linked_at": {
          "name": "linked_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "ready_at": {
          "name": "ready_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "idx_plan_assets_plan": {
          "name": "idx_plan_assets_plan",
          "columns": [
            "plan_id"
          ],
          "isUnique": false
        },
        "idx_plan_assets_step": {
          "name": "idx_plan_assets_step",
          "columns": [
            "step_id"
          ],
          "isUnique": false
        },
        "idx_plan_assets_asset": {
          "name": "idx_plan_assets_asset",
          "columns": [
            "asset_id"
          ],
          "isUnique": false
        },
        "idx_plan_assets_ready": {
          "name": "idx_plan_assets_ready",
          "columns": [
            "is_ready"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "plan_assets_plan_id_asset_id_pk": {
          "name": "plan_assets_plan_id_asset_id_pk",
          "columns": [
            "plan_id",
            "asset_id"
          ]
        }
      },
      "uniqueConstraints": {}
    },
    "templates": {
      "name": "templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "variables": {
          "name": "variables",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "tags": {
          "name": "tags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'[]'::jsonb"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_templates_account": {
          "name": "idx_templates_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_templates_account_name": {
          "name": "idx_templates_account_name",
          "columns": [
            "account_id",
            "name"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "templates_account_id_accounts_id_fk": {
          "name": "templates_account_id_accounts_id_fk",
          "tableFrom": "templates",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_template_settings": {
      "name": "fluxcore_template_settings",
      "schema": "",
      "columns": {
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true
        },
        "authorize_for_ai": {
          "name": "authorize_for_ai",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "ai_usage_instructions": {
          "name": "ai_usage_instructions",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_template_settings_template_id_templates_id_fk": {
          "name": "fluxcore_template_settings_template_id_templates_id_fk",
          "tableFrom": "fluxcore_template_settings",
          "tableTo": "templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ai_traces": {
      "name": "ai_traces",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "runtime": {
          "name": "runtime",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "mode": {
          "name": "mode",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "request_body": {
          "name": "request_body",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_content": {
          "name": "response_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tools_offered": {
          "name": "tools_offered",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "tools_called": {
          "name": "tools_called",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "tool_details": {
          "name": "tool_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "attempts": {
          "name": "attempts",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_traces_account": {
          "name": "idx_ai_traces_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_ai_traces_conversation": {
          "name": "idx_ai_traces_conversation",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "idx_ai_traces_created_at": {
          "name": "idx_ai_traces_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ai_traces_account_id_accounts_id_fk": {
          "name": "ai_traces_account_id_accounts_id_fk",
          "tableFrom": "ai_traces",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_traces_conversation_id_conversations_id_fk": {
          "name": "ai_traces_conversation_id_conversations_id_fk",
          "tableFrom": "ai_traces",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_traces_message_id_messages_id_fk": {
          "name": "ai_traces_message_id_messages_id_fk",
          "tableFrom": "ai_traces",
          "tableTo": "messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ai_signals": {
      "name": "ai_signals",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "trace_id": {
          "name": "trace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "signal_type": {
          "name": "signal_type",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true
        },
        "signal_value": {
          "name": "signal_value",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_signals_account": {
          "name": "idx_ai_signals_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_ai_signals_type_value": {
          "name": "idx_ai_signals_type_value",
          "columns": [
            "signal_type",
            "signal_value"
          ],
          "isUnique": false
        },
        "idx_ai_signals_conversation": {
          "name": "idx_ai_signals_conversation",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "idx_ai_signals_created_at": {
          "name": "idx_ai_signals_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ai_signals_trace_id_ai_traces_id_fk": {
          "name": "ai_signals_trace_id_ai_traces_id_fk",
          "tableFrom": "ai_signals",
          "tableTo": "ai_traces",
          "columnsFrom": [
            "trace_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_signals_account_id_accounts_id_fk": {
          "name": "ai_signals_account_id_accounts_id_fk",
          "tableFrom": "ai_signals",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_signals_conversation_id_conversations_id_fk": {
          "name": "ai_signals_conversation_id_conversations_id_fk",
          "tableFrom": "ai_signals",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_signals_relationship_id_relationships_id_fk": {
          "name": "ai_signals_relationship_id_relationships_id_fk",
          "tableFrom": "ai_signals",
          "tableTo": "relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "ai_suggestions": {
      "name": "ai_suggestions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "model": {
          "name": "model",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "base_url": {
          "name": "base_url",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_tokens": {
          "name": "total_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "generated_at": {
          "name": "generated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "responded_at": {
          "name": "responded_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "idx_ai_suggestions_conversation": {
          "name": "idx_ai_suggestions_conversation",
          "columns": [
            "conversation_id"
          ],
          "isUnique": false
        },
        "idx_ai_suggestions_account": {
          "name": "idx_ai_suggestions_account",
          "columns": [
            "account_id"
          ],
          "isUnique": false
        },
        "idx_ai_suggestions_status": {
          "name": "idx_ai_suggestions_status",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "idx_ai_suggestions_created_at": {
          "name": "idx_ai_suggestions_created_at",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "ai_suggestions_conversation_id_conversations_id_fk": {
          "name": "ai_suggestions_conversation_id_conversations_id_fk",
          "tableFrom": "ai_suggestions",
          "tableTo": "conversations",
          "columnsFrom": [
            "conversation_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ai_suggestions_account_id_accounts_id_fk": {
          "name": "ai_suggestions_account_id_accounts_id_fk",
          "tableFrom": "ai_suggestions",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_agent_assistants": {
      "name": "fluxcore_agent_assistants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assistant_id": {
          "name": "assistant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(30)",
          "primaryKey": false,
          "notNull": true,
          "default": "'worker'"
        },
        "step_id": {
          "name": "step_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_agent_assistants_agent_id_fluxcore_agents_id_fk": {
          "name": "fluxcore_agent_assistants_agent_id_fluxcore_agents_id_fk",
          "tableFrom": "fluxcore_agent_assistants",
          "tableTo": "fluxcore_agents",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "fluxcore_agent_assistants_assistant_id_fluxcore_assistants_id_fk": {
          "name": "fluxcore_agent_assistants_assistant_id_fluxcore_assistants_id_fk",
          "tableFrom": "fluxcore_agent_assistants",
          "tableTo": "fluxcore_assistants",
          "columnsFrom": [
            "assistant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_agents": {
      "name": "fluxcore_agents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'draft'"
        },
        "flow": {
          "name": "flow",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"steps\":[]}'::jsonb"
        },
        "scopes": {
          "name": "scopes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{\"allowedModels\":[],\"maxTotalTokens\":5000,\"maxExecutionTimeMs\":30000,\"allowedTools\":[],\"canCreateSubAgents\":false}'::jsonb"
        },
        "trigger_config": {
          "name": "trigger_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"type\":\"message_received\"}'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_agents_account_id_accounts_id_fk": {
          "name": "fluxcore_agents_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_agents",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_decision_events": {
      "name": "fluxcore_decision_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "trace_id": {
          "name": "trace_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "input": {
          "name": "input",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "proposed_work": {
          "name": "proposed_work",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "model_info": {
          "name": "model_info",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "latency_ms": {
          "name": "latency_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tokens": {
          "name": "tokens",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_decision_events_account_id_accounts_id_fk": {
          "name": "fluxcore_decision_events_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_decision_events",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_external_effect_claims": {
      "name": "fluxcore_external_effect_claims",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "semantic_context_id": {
          "name": "semantic_context_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_id": {
          "name": "work_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "effect_type": {
          "name": "effect_type",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "tool_call_id": {
          "name": "tool_call_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "claimed_at": {
          "name": "claimed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "released_at": {
          "name": "released_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "external_effect_id": {
          "name": "external_effect_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_external_effect_claims_account_id_accounts_id_fk": {
          "name": "fluxcore_external_effect_claims_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_external_effect_claims",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_external_effect_claims_semantic_context_id_fluxcore_semantic_contexts_id_fk": {
          "name": "fluxcore_external_effect_claims_semantic_context_id_fluxcore_semantic_contexts_id_fk",
          "tableFrom": "fluxcore_external_effect_claims",
          "tableTo": "fluxcore_semantic_contexts",
          "columnsFrom": [
            "semantic_context_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_external_effect_claims_work_id_fluxcore_works_id_fk": {
          "name": "fluxcore_external_effect_claims_work_id_fluxcore_works_id_fk",
          "tableFrom": "fluxcore_external_effect_claims",
          "tableTo": "fluxcore_works",
          "columnsFrom": [
            "work_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_external_effect_claims_external_effect_id_fluxcore_external_effects_id_fk": {
          "name": "fluxcore_external_effect_claims_external_effect_id_fluxcore_external_effects_id_fk",
          "tableFrom": "fluxcore_external_effect_claims",
          "tableTo": "fluxcore_external_effects",
          "columnsFrom": [
            "external_effect_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_external_effects": {
      "name": "fluxcore_external_effects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_id": {
          "name": "work_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tool_name": {
          "name": "tool_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "tool_call_id": {
          "name": "tool_call_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "request": {
          "name": "request",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response": {
          "name": "response",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "claim_id": {
          "name": "claim_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "finished_at": {
          "name": "finished_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_external_effects_account_id_accounts_id_fk": {
          "name": "fluxcore_external_effects_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_external_effects",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_external_effects_work_id_fluxcore_works_id_fk": {
          "name": "fluxcore_external_effects_work_id_fluxcore_works_id_fk",
          "tableFrom": "fluxcore_external_effects",
          "tableTo": "fluxcore_works",
          "columnsFrom": [
            "work_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fluxcore_external_effects_account_id_idempotency_key_unique": {
          "name": "fluxcore_external_effects_account_id_idempotency_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "account_id",
            "idempotency_key"
          ]
        }
      }
    },
    "fluxcore_proposed_works": {
      "name": "fluxcore_proposed_works",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "decision_event_id": {
          "name": "decision_event_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_definition_id": {
          "name": "work_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "intent": {
          "name": "intent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "candidate_slots": {
          "name": "candidate_slots",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "confidence": {
          "name": "confidence",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "trace_id": {
          "name": "trace_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "evaluated_at": {
          "name": "evaluated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolution": {
          "name": "resolution",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "resulting_work_id": {
          "name": "resulting_work_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_proposed_works_account_id_accounts_id_fk": {
          "name": "fluxcore_proposed_works_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_proposed_works",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_proposed_works_decision_event_id_fluxcore_decision_events_id_fk": {
          "name": "fluxcore_proposed_works_decision_event_id_fluxcore_decision_events_id_fk",
          "tableFrom": "fluxcore_proposed_works",
          "tableTo": "fluxcore_decision_events",
          "columnsFrom": [
            "decision_event_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_proposed_works_work_definition_id_fluxcore_work_definitions_id_fk": {
          "name": "fluxcore_proposed_works_work_definition_id_fluxcore_work_definitions_id_fk",
          "tableFrom": "fluxcore_proposed_works",
          "tableTo": "fluxcore_work_definitions",
          "columnsFrom": [
            "work_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_semantic_contexts": {
      "name": "fluxcore_semantic_contexts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_id": {
          "name": "work_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "slot_path": {
          "name": "slot_path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "proposed_value": {
          "name": "proposed_value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "request_message_id": {
          "name": "request_message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "request_event_id": {
          "name": "request_event_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "consumed_at": {
          "name": "consumed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "consumed_by_work_id": {
          "name": "consumed_by_work_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "consumed_by_message_id": {
          "name": "consumed_by_message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fluxcore_semantic_contexts_acc_conv_status_idx": {
          "name": "fluxcore_semantic_contexts_acc_conv_status_idx",
          "columns": [
            "account_id",
            "conversation_id",
            "status"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_semantic_contexts_account_id_accounts_id_fk": {
          "name": "fluxcore_semantic_contexts_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_semantic_contexts",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_semantic_contexts_work_id_fluxcore_works_id_fk": {
          "name": "fluxcore_semantic_contexts_work_id_fluxcore_works_id_fk",
          "tableFrom": "fluxcore_semantic_contexts",
          "tableTo": "fluxcore_works",
          "columnsFrom": [
            "work_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_work_definitions": {
      "name": "fluxcore_work_definitions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type_id": {
          "name": "type_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "definition_json": {
          "name": "definition_json",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "deprecated_at": {
          "name": "deprecated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_work_definitions_account_id_accounts_id_fk": {
          "name": "fluxcore_work_definitions_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_work_definitions",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fluxcore_work_definitions_account_id_type_id_version_unique": {
          "name": "fluxcore_work_definitions_account_id_type_id_version_unique",
          "nullsNotDistinct": false,
          "columns": [
            "account_id",
            "type_id",
            "version"
          ]
        }
      }
    },
    "fluxcore_work_events": {
      "name": "fluxcore_work_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_id": {
          "name": "work_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "actor": {
          "name": "actor",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "trace_id": {
          "name": "trace_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "work_revision": {
          "name": "work_revision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "delta": {
          "name": "delta",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "evidence_ref": {
          "name": "evidence_ref",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "semantic_context_id": {
          "name": "semantic_context_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fluxcore_work_events_work_created_idx": {
          "name": "fluxcore_work_events_work_created_idx",
          "columns": [
            "work_id",
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_work_events_account_id_accounts_id_fk": {
          "name": "fluxcore_work_events_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_work_events",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_work_events_work_id_fluxcore_works_id_fk": {
          "name": "fluxcore_work_events_work_id_fluxcore_works_id_fk",
          "tableFrom": "fluxcore_work_events",
          "tableTo": "fluxcore_works",
          "columnsFrom": [
            "work_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "fluxcore_work_slots": {
      "name": "fluxcore_work_slots",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_id": {
          "name": "work_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "immutable": {
          "name": "immutable",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "set_by": {
          "name": "set_by",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "set_at": {
          "name": "set_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "evidence": {
          "name": "evidence",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "semantic_confirmed_at": {
          "name": "semantic_confirmed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "semantic_context_id": {
          "name": "semantic_context_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "fluxcore_work_slots_account_id_accounts_id_fk": {
          "name": "fluxcore_work_slots_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_work_slots",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_work_slots_work_id_fluxcore_works_id_fk": {
          "name": "fluxcore_work_slots_work_id_fluxcore_works_id_fk",
          "tableFrom": "fluxcore_work_slots",
          "tableTo": "fluxcore_works",
          "columnsFrom": [
            "work_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "fluxcore_work_slots_work_id_path_unique": {
          "name": "fluxcore_work_slots_work_id_path_unique",
          "nullsNotDistinct": false,
          "columns": [
            "work_id",
            "path"
          ]
        }
      }
    },
    "fluxcore_works": {
      "name": "fluxcore_works",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "account_id": {
          "name": "account_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_definition_id": {
          "name": "work_definition_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "work_definition_version": {
          "name": "work_definition_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "conversation_id": {
          "name": "conversation_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "aggregate_key": {
          "name": "aggregate_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "state": {
          "name": "state",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "revision": {
          "name": "revision",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "suspended_reason": {
          "name": "suspended_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_reason": {
          "name": "cancelled_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "fluxcore_works_acc_rel_conv_state_idx": {
          "name": "fluxcore_works_acc_rel_conv_state_idx",
          "columns": [
            "account_id",
            "relationship_id",
            "conversation_id",
            "state"
          ],
          "isUnique": false
        },
        "fluxcore_works_acc_aggregate_key_idx": {
          "name": "fluxcore_works_acc_aggregate_key_idx",
          "columns": [
            "account_id",
            "aggregate_key"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "fluxcore_works_account_id_accounts_id_fk": {
          "name": "fluxcore_works_account_id_accounts_id_fk",
          "tableFrom": "fluxcore_works",
          "tableTo": "accounts",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_works_work_definition_id_fluxcore_work_definitions_id_fk": {
          "name": "fluxcore_works_work_definition_id_fluxcore_work_definitions_id_fk",
          "tableFrom": "fluxcore_works",
          "tableTo": "fluxcore_work_definitions",
          "columnsFrom": [
            "work_definition_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "fluxcore_works_relationship_id_relationships_id_fk": {
          "name": "fluxcore_works_relationship_id_relationships_id_fk",
          "tableFrom": "fluxcore_works",
          "tableTo": "relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {
    "asset_scope": {
      "name": "asset_scope",
      "values": {
        "message_attachment": "message_attachment",
        "template_asset": "template_asset",
        "execution_plan": "execution_plan",
        "shared_internal": "shared_internal",
        "profile_avatar": "profile_avatar",
        "workspace_asset": "workspace_asset"
      }
    },
    "asset_status": {
      "name": "asset_status",
      "values": {
        "pending": "pending",
        "ready": "ready",
        "archived": "archived",
        "deleted": "deleted"
      }
    },
    "dedup_policy": {
      "name": "dedup_policy",
      "values": {
        "none": "none",
        "intra_account": "intra_account",
        "intra_workspace": "intra_workspace",
        "custom": "custom"
      }
    },
    "upload_session_status": {
      "name": "upload_session_status",
      "values": {
        "active": "active",
        "uploading": "uploading",
        "committed": "committed",
        "expired": "expired",
        "cancelled": "cancelled"
      }
    },
    "asset_actor_type": {
      "name": "asset_actor_type",
      "values": {
        "user": "user",
        "assistant": "assistant",
        "system": "system",
        "api": "api"
      }
    },
    "asset_audit_action": {
      "name": "asset_audit_action",
      "values": {
        "upload_started": "upload_started",
        "upload_completed": "upload_completed",
        "upload_failed": "upload_failed",
        "upload_cancelled": "upload_cancelled",
        "session_expired": "session_expired",
        "download": "download",
        "preview": "preview",
        "url_signed": "url_signed",
        "state_changed": "state_changed",
        "dedup_applied": "dedup_applied",
        "deleted": "deleted",
        "purged": "purged",
        "archived": "archived",
        "restored": "restored",
        "access_denied": "access_denied",
        "policy_evaluated": "policy_evaluated",
        "metadata_updated": "metadata_updated",
        "linked": "linked",
        "unlinked": "unlinked"
      }
    }
  },
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}